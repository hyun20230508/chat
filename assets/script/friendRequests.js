(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".main-content");fetch("/friendRequests",{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((n=>{if(void 0!==n.result){const o=n.result;for(let n=0;n<o.length;n++){const d=document.createElement("div");d.classList.add("user-list-box");const a=document.createElement("div");a.classList.add("user-list-info"),a.innerText=`ID: ${o[n].user.loginId}  가입날짜: ${e(o[n].createdAt)}`;const s=document.createElement("button");s.classList.add("add-button"),s.innerText="수락";const c=document.createElement("button");c.classList.add("add-button"),c.innerText="거절",s.addEventListener("click",(()=>{fetch("/friends",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o[n].userId})}).then((t=>{201===t.status?(alert("친구요청 수락 완료"),window.location.reload()):401===t.status?window.location.href="./index.html":t.json().then((t=>{alert(t.result)}))})).catch((t=>{alert("반복하여 오류 발생시 문의 바랍니다. abc@abc.com"+t)}))})),c.addEventListener("click",(()=>{fetch("/friendRequests",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o[n].userId})}).then((t=>{201===t.status?(alert("친구요청 거절 완료"),window.location.reload()):401===t.status?window.location.href="./index.html":t.json().then((t=>{alert(t.result)}))})).catch((t=>{alert("반복하여 오류 발생시 문의 바랍니다. abc@abc.com"+t)}))})),d.appendChild(a),d.appendChild(s),d.appendChild(c),null==t||t.appendChild(d)}}})).catch((t=>{alert("반복하여 오류 발생시 문의 바랍니다. abc@abc.com"+t)}));const e=t=>new Date(t).toLocaleString("ko-KR")}))})();