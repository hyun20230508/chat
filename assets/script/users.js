(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".main-content"),t=new URLSearchParams(window.location.search).get("name");fetch("/users/list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((o=>{if(void 0!==o.result){const a=o.result;for(let o=0;o<a.length;o++){if(a[o].loginId===t)continue;const s=document.createElement("div");s.classList.add("user-list-box");const c=document.createElement("div");c.classList.add("user-list-info"),c.innerText=`ID: ${a[o].loginId}  가입날짜: ${n(a[o].createdAt)}  친구수: ${a[o].friends}`;const d=document.createElement("button");d.classList.add("add-button"),d.innerText="친구 요청",d.addEventListener("click",(()=>{fetch("/friendRequests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({friendId:a[o].id})}).then((e=>{201===e.status?alert("친구요청 완료"):401===e.status?window.location.href="./index.html":e.json().then((e=>{alert(e.result)}))})).catch((e=>{alert("반복하여 오류 발생시 문의 바랍니다. abc@abc.com"+e)}))})),s.appendChild(c),s.appendChild(d),null==e||e.appendChild(s)}}})).catch((e=>{alert("반복하여 오류 발생시 문의 바랍니다. abc@abc.com"+e)}));const n=e=>new Date(e).toLocaleString("ko-KR")}))})();